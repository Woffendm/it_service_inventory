<% unless possible_groups.blank? %>

  
  <a class="btn btn-small" data-toggle="modal" data-target="#add-group-<%= index %>" href="#">
    <i class="icon-plus"></i>
    <%= "#{t(:add)} #{t(:group)}" %>
  </a>
  
  
  <div class="modal hide fade" id="add-group-<%= index %>">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
      <h4> <%= t(:add) + t(:group) %> </h4>
    </div>
    <%= fields_for "new_product_group_portfolios[#{index}]" do |form|%>
      <div class="modal-body form-inline">
        <%= form.label :group_id, t(:group) %>
        <%= form.select(:group_id, options_from_collection_for_select(
                        possible_groups, :id, :name),
                        {:include_blank => t(:select) + t(:group)}, 
                        {:class => "autocomplete large-select"}) %> 
        <%= form.hidden_field(:product_id, :value => product.id) %>
        <%= form.hidden_field(:portfolio_id, :value => portfolio.id) %>
      </div>
      <div class="modal-footer">
        <a class="btn" data-dismiss="modal" aria-hidden="true"> <%= t(:cancel) %> </a>
        <%= form.submit t(:add), :class => "btn btn-success" %>
      </div>
    <% end %>
  </div>
  
  
<% end %>